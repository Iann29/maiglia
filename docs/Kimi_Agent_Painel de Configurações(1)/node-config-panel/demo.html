<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Node Config Panel - Demo</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      min-height: 100vh;
      color: white;
      padding: 40px;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    .header {
      text-align: center;
      margin-bottom: 50px;
    }
    .header h1 {
      font-size: 42px;
      background: linear-gradient(90deg, #0984E3, #74B9FF);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 10px;
    }
    .header p { color: #888; }
    .demo-area {
      display: grid;
      grid-template-columns: 1fr 300px;
      gap: 40px;
      align-items: start;
    }
    .preview-section {
      background: rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 40px;
      min-height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .info-section {
      background: rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 24px;
    }
    .info-section h3 {
      color: #0984E3;
      margin-bottom: 16px;
      font-size: 18px;
    }
    .info-section ul {
      list-style: none;
      color: #aaa;
      font-size: 14px;
      line-height: 2;
    }
    .info-section li::before {
      content: "‚úì";
      color: #0984E3;
      margin-right: 8px;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useCallback } = React;

    // ============================================
    // CONSTANTES (copiadas do constants.ts)
    // ============================================

    const ICON_POSITIONS = [
      { value: "top-left", label: "‚¨â" },
      { value: "top-center", label: "‚¨Ü" },
      { value: "top-right", label: "‚¨à" },
      { value: "center-left", label: "‚¨Ö" },
      { value: "center", label: "‚è∫" },
      { value: "center-right", label: "‚û°" },
      { value: "bottom-left", label: "‚¨ã" },
      { value: "bottom-center", label: "‚¨á" },
      { value: "bottom-right", label: "‚¨ä" },
    ];

    const ICON_SIZES = [
      { value: "XS", label: "XS", px: 16 },
      { value: "S", label: "S", px: 20 },
      { value: "M", label: "M", px: 24 },
      { value: "L", label: "L", px: 32 },
      { value: "XL", label: "XL", px: 40 },
    ];

    const ICON_STYLES = [
      { value: "normal", label: "Normal", icon: "üòä" },
      { value: "background", label: "Com fundo", icon: "‚¨ú" },
      { value: "border", label: "Com borda", icon: "‚¨õ" },
      { value: "shadow", label: "Com sombra", icon: "‚ú®" },
    ];

    const ICON_POSITION_STYLES = {
      "top-left": { position: "absolute", top: 8, left: 8 },
      "top-center": { position: "absolute", top: 8, left: "50%", transform: "translateX(-50%)" },
      "top-right": { position: "absolute", top: 8, right: 8 },
      "center-left": { position: "absolute", top: "50%", left: 8, transform: "translateY(-50%)" },
      "center": { position: "absolute", top: "50%", left: "50%", transform: "translate(-50%, -50%)" },
      "center-right": { position: "absolute", top: "50%", right: 8, transform: "translateY(-50%)" },
      "bottom-left": { position: "absolute", bottom: 8, left: 8 },
      "bottom-center": { position: "absolute", bottom: 8, left: "50%", transform: "translateX(-50%)" },
      "bottom-right": { position: "absolute", bottom: 8, right: 8 },
    };

    function getIconSizeInPixels(size) {
      const found = ICON_SIZES.find((s) => s.value === size);
      return found?.px ?? 24;
    }

    function getIconStyleCSS(style, baseColor = "#FFFFFF") {
      const base = { transition: "all 0.2s ease" };
      switch (style) {
        case "background":
          return { ...base, backgroundColor: `${baseColor}33`, padding: "4px 8px", borderRadius: 8 };
        case "border":
          return { ...base, border: `2px solid ${baseColor}4D`, padding: "2px 6px", borderRadius: 6 };
        case "shadow":
          return { ...base, textShadow: "0 2px 8px rgba(0,0,0,0.4)", filter: "drop-shadow(0 2px 4px rgba(0,0,0,0.3))" };
        default:
          return base;
      }
    }

    // ============================================
    // COMPONENTE NODE PREVIEW
    // ============================================

    function NodePreview({ config }) {
      const iconSize = getIconSizeInPixels(config.iconSize);
      const iconStyle = getIconStyleCSS(config.iconStyle);
      const positionStyle = ICON_POSITION_STYLES[config.iconPosition];

      return (
        <div style={{
          width: 260,
          height: 160,
          borderRadius: 12,
          overflow: "hidden",
          border: "1px solid #444",
          boxShadow: "0 8px 32px rgba(0,0,0,0.3)",
          position: "relative",
        }}>
          {/* Header */}
          <div style={{
            height: 50,
            backgroundColor: "#0984E3",
            position: "relative",
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
          }}>
            {/* √çcone */}
            {config.icon && (
              <span style={{ ...positionStyle, ...iconStyle, fontSize: iconSize }}>
                {config.icon}
              </span>
            )}
            
            {/* T√≠tulo */}
            <span style={{ color: "#FFF", fontWeight: 600, fontSize: 14 }}>
              Minhas Tarefas
            </span>
          </div>
          
          {/* Body */}
          <div style={{
            height: "calc(100% - 50px)",
            backgroundColor: "#2D3436",
            padding: 12,
          }}>
            <div style={{ height: 6, borderRadius: 3, backgroundColor: "#FFF", opacity: 0.2, marginBottom: 8 }} />
            <div style={{ height: 6, borderRadius: 3, backgroundColor: "#FFF", opacity: 0.2, width: "80%", marginBottom: 8 }} />
            <div style={{ height: 6, borderRadius: 3, backgroundColor: "#FFF", opacity: 0.2, width: "60%" }} />
          </div>
        </div>
      );
    }

    // ============================================
    // COMPONENTE SETTINGS PANEL (simplificado)
    // ============================================

    function SettingsPanel({ config, onChange }) {
      const SelectionCheck = () => (
        <div style={{
          position: "absolute", top: -6, right: -6, width: 16, height: 16,
          backgroundColor: "#0984E3", borderRadius: "50%",
          display: "flex", alignItems: "center", justifyContent: "center",
          boxShadow: "0 2px 4px rgba(0,0,0,0.3)", zIndex: 10,
        }}>
          <svg width="8" height="8" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="4">
            <polyline points="20 6 9 17 4 12" />
          </svg>
        </div>
      );

      const GridButton = ({ selected, onClick, children }) => (
        <button onClick={onClick} style={{
          position: "relative", width: 36, height: 36, borderRadius: 8,
          display: "flex", alignItems: "center", justifyContent: "center",
          backgroundColor: selected ? "#2D3436" : "transparent",
          border: selected ? "2px solid #0984E3" : "1px solid #444",
          color: selected ? "#FFF" : "#888", cursor: "pointer", fontSize: 14,
        }}>
          {children}
          {selected && <SelectionCheck />}
        </button>
      );

      const SizeButton = ({ selected, onClick, label, px }) => (
        <button onClick={onClick} style={{
          position: "relative", flex: 1, height: 40, borderRadius: 8,
          display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center",
          backgroundColor: selected ? "#2D3436" : "transparent",
          border: selected ? "2px solid #0984E3" : "1px solid #444",
          color: selected ? "#FFF" : "#888", cursor: "pointer",
        }}>
          <span style={{ fontSize: 12, fontWeight: 600 }}>{label}</span>
          <span style={{ fontSize: 10, opacity: 0.6 }}>{px}px</span>
          {selected && <SelectionCheck />}
        </button>
      );

      const StyleButton = ({ selected, onClick, icon, label }) => (
        <button onClick={onClick} style={{
          position: "relative", flex: 1, height: 48, borderRadius: 8,
          display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center",
          backgroundColor: selected ? "#2D3436" : "transparent",
          border: selected ? "2px solid #0984E3" : "1px solid #444",
          color: selected ? "#FFF" : "#888", cursor: "pointer",
        }}>
          <span style={{ fontSize: 18 }}>{icon}</span>
          <span style={{ fontSize: 10 }}>{label}</span>
          {selected && <SelectionCheck />}
        </button>
      );

      return (
        <div style={{
          width: 280, backgroundColor: "#1E1E1E", borderRadius: 12,
          boxShadow: "0 25px 80px rgba(0,0,0,0.5)", overflow: "hidden", padding: 16,
        }}>
          {/* Header */}
          <div style={{ padding: "8px 0 16px", borderBottom: "1px solid #333", marginBottom: 16, display: "flex", alignItems: "center", gap: 10 }}>
            <span style={{ fontSize: 18 }}>‚öôÔ∏è</span>
            <span style={{ fontSize: 15, fontWeight: 600 }}>Configura√ß√µes</span>
          </div>

          {/* √çCONE */}
          <div style={{ marginBottom: 20 }}>
            <div style={{ fontSize: 11, color: "#888", fontWeight: 600, textTransform: "uppercase", letterSpacing: 0.5, marginBottom: 16, display: "flex", alignItems: "center", gap: 6 }}>
              <span>üìå</span> √çcone
            </div>

            {/* √çcone atual */}
            <div style={{ marginBottom: 16 }}>
              <div style={{ fontSize: 12, color: "#AAA", marginBottom: 8 }}>√çcone atual</div>
              <div style={{ display: "flex", gap: 10 }}>
                <button onClick={() => onChange({ icon: null })} style={{
                  position: "relative", width: 44, height: 44, borderRadius: 10,
                  display: "flex", alignItems: "center", justifyContent: "center",
                  backgroundColor: !config.icon ? "#2D3436" : "transparent",
                  border: !config.icon ? "2px solid #0984E3" : "1px solid #444",
                  cursor: "pointer",
                }}>
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#888" strokeWidth="2">
                    <line x1="18" y1="6" x2="6" y2="18" />
                    <line x1="6" y1="6" x2="18" y2="18" />
                  </svg>
                  {!config.icon && <SelectionCheck />}
                </button>
                <button onClick={() => onChange({ icon: "üçã" })} style={{
                  position: "relative", width: 44, height: 44, borderRadius: 10,
                  display: "flex", alignItems: "center", justifyContent: "center",
                  fontSize: 22,
                  backgroundColor: config.icon ? "#2D3436" : "transparent",
                  border: config.icon ? "2px solid #0984E3" : "1px solid #444",
                  cursor: "pointer",
                }}>
                  {config.icon || "üòÄ"}
                  {config.icon && <SelectionCheck />}
                </button>
              </div>
            </div>

            {/* Posi√ß√£o */}
            <div style={{ marginBottom: 16 }}>
              <div style={{ fontSize: 12, color: "#AAA", marginBottom: 8 }}>Posi√ß√£o</div>
              <div style={{ display: "grid", gridTemplateColumns: "repeat(3, 1fr)", gap: 6, width: "fit-content" }}>
                {ICON_POSITIONS.map((pos) => (
                  <GridButton key={pos.value} selected={config.iconPosition === pos.value} onClick={() => onChange({ iconPosition: pos.value })}>
                    {pos.label}
                  </GridButton>
                ))}
              </div>
            </div>

            {/* Tamanho */}
            <div style={{ marginBottom: 16 }}>
              <div style={{ fontSize: 12, color: "#AAA", marginBottom: 8 }}>Tamanho</div>
              <div style={{ display: "flex", gap: 6 }}>
                {ICON_SIZES.map((size) => (
                  <SizeButton key={size.value} selected={config.iconSize === size.value} onClick={() => onChange({ iconSize: size.value })} label={size.label} px={size.px} />
                ))}
              </div>
            </div>

            {/* Estilo */}
            <div>
              <div style={{ fontSize: 12, color: "#AAA", marginBottom: 8 }}>Estilo</div>
              <div style={{ display: "flex", gap: 6 }}>
                {ICON_STYLES.map((style) => (
                  <StyleButton key={style.value} selected={config.iconStyle === style.value} onClick={() => onChange({ iconStyle: style.value })} icon={style.icon} label={style.label} />
                ))}
              </div>
            </div>
          </div>

          {/* A√ß√µes */}
          <div style={{ paddingTop: 12, borderTop: "1px solid #333" }}>
            <button style={{ width: "100%", padding: "10px 12px", display: "flex", alignItems: "center", gap: 10, fontSize: 14, borderRadius: 8, backgroundColor: "transparent", color: "#FFF", border: "none", cursor: "pointer" }} onMouseEnter={(e) => e.currentTarget.style.backgroundColor = "#2D3436"} onMouseLeave={(e) => e.currentTarget.style.backgroundColor = "transparent"}>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="9" y="9" width="13" height="13" rx="2" />
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
              </svg>
              Duplicar
            </button>
            <button style={{ width: "100%", padding: "10px 12px", display: "flex", alignItems: "center", gap: 10, fontSize: 14, borderRadius: 8, backgroundColor: "transparent", color: "#FF6B6B", border: "none", cursor: "pointer" }} onMouseEnter={(e) => e.currentTarget.style.backgroundColor = "#2D3436"} onMouseLeave={(e) => e.currentTarget.style.backgroundColor = "transparent"}>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="3 6 5 6 21 6" />
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
              </svg>
              Deletar
            </button>
          </div>
        </div>
      );
    }

    // ============================================
    // APP
    // ============================================

    function App() {
      const [config, setConfig] = useState({
        icon: "üçã",
        iconPosition: "top-center",
        iconSize: "M",
        iconStyle: "normal",
      });

      return (
        <div className="container">
          <div className="header">
            <h1>üìå Painel de Configura√ß√µes</h1>
            <p>Configure a posi√ß√£o, tamanho e estilo do √≠cone do seu node</p>
          </div>

          <div className="demo-area">
            <div className="preview-section">
              <NodePreview config={config} />
            </div>

            <div>
              <SettingsPanel config={config} onChange={setConfig} />
              
              <div className="info-section" style={{ marginTop: 20 }}>
                <h3>üìã Configura√ß√µes</h3>
                <ul>
                  <li>9 posi√ß√µes de √≠cone</li>
                  <li>5 tamanhos (XS a XL)</li>
                  <li>4 estilos visuais</li>
                  <li>Tema escuro profissional</li>
                  <li>Checkmarks azuis</li>
                  <li>Transi√ß√µes suaves</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
