<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema de Nodes - Maiglia (Demo)</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      min-height: 100vh;
      color: white;
    }
    .demo-container {
      padding: 40px;
      max-width: 1400px;
      margin: 0 auto;
    }
    .header {
      text-align: center;
      margin-bottom: 50px;
    }
    .header h1 {
      font-size: 42px;
      margin-bottom: 10px;
      background: linear-gradient(90deg, #0984E3, #74B9FF);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .header p {
      color: #888;
      font-size: 18px;
    }
    .section {
      margin-bottom: 60px;
    }
    .section-title {
      font-size: 24px;
      margin-bottom: 24px;
      color: #fff;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .section-title::before {
      content: '';
      width: 4px;
      height: 24px;
      background: #0984E3;
      border-radius: 2px;
    }
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 30px;
    }
    .card-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
    }
    .card-label {
      font-size: 14px;
      color: #888;
      text-align: center;
    }
    .comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      align-items: start;
    }
    .comparison-box {
      background: rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 24px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .comparison-box h3 {
      margin-bottom: 20px;
      color: #0984E3;
    }
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }
    .feature-card {
      background: rgba(255,255,255,0.05);
      border-radius: 12px;
      padding: 20px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .feature-card h4 {
      color: #74B9FF;
      margin-bottom: 10px;
      font-size: 16px;
    }
    .feature-card p {
      color: #aaa;
      font-size: 14px;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // ============================================
    // CONSTANTES E TIPOS
    // ============================================
    
    const NODE_GAP = 4;
    const NODE_BORDER_RADIUS = 12;
    const ICON_AREA_HEIGHT = 32;

    const CARD_STYLES = {
      0: {
        id: 0,
        name: "Escuro Azul",
        headerBg: "#0984E3",
        bodyBg: "#2D3436",
        borderColor: "#444444",
        borderWidth: 1,
        titleColor: "#FFFFFF",
        headerHeight: 40,
        hasHeaderSeparator: false,
        shadow: "0 4px 20px rgba(0,0,0,0.3)",
      },
      1: {
        id: 1,
        name: "Escuro Cinza",
        headerBg: "#636E72",
        bodyBg: "#2D3436",
        borderColor: "#444444",
        borderWidth: 1,
        titleColor: "#FFFFFF",
        headerHeight: 40,
        hasHeaderSeparator: false,
        shadow: "0 4px 20px rgba(0,0,0,0.3)",
      },
      2: {
        id: 2,
        name: "Azul Claro",
        headerBg: "#0984E3",
        bodyBg: "#74B9FF",
        borderColor: "#0984E3",
        borderWidth: 2,
        titleColor: "#FFFFFF",
        headerHeight: 40,
        hasHeaderSeparator: false,
        shadow: "0 4px 20px rgba(9,132,227,0.3)",
      },
      3: {
        id: 3,
        name: "Todo Escuro",
        headerBg: "#2D3436",
        bodyBg: "#2D3436",
        borderColor: "#444444",
        borderWidth: 1,
        titleColor: "#FFFFFF",
        headerHeight: 40,
        hasHeaderSeparator: true,
        shadow: "0 4px 20px rgba(0,0,0,0.3)",
      },
      4: {
        id: 4,
        name: "Cinza Escuro",
        headerBg: "#2D3436",
        bodyBg: "#636E72",
        borderColor: "#444444",
        borderWidth: 1,
        titleColor: "#FFFFFF",
        headerHeight: 40,
        hasHeaderSeparator: false,
        shadow: "0 4px 20px rgba(0,0,0,0.3)",
      },
      5: {
        id: 5,
        name: "Azul Branco",
        headerBg: "#FFFFFF",
        bodyBg: "#74B9FF",
        borderColor: "#74B9FF",
        borderWidth: 2,
        titleColor: "#2D3436",
        headerHeight: 40,
        hasHeaderSeparator: true,
        shadow: "0 4px 20px rgba(116,185,255,0.3)",
      },
      6: {
        id: 6,
        name: "Menta Branco",
        headerBg: "#FFFFFF",
        bodyBg: "#A8E6CF",
        borderColor: "#A8E6CF",
        borderWidth: 2,
        titleColor: "#2D3436",
        headerHeight: 40,
        hasHeaderSeparator: true,
        shadow: "0 4px 20px rgba(168,230,207,0.3)",
      },
      7: {
        id: 7,
        name: "Azul Vivo",
        headerBg: "#FFFFFF",
        bodyBg: "#0984E3",
        borderColor: "#0984E3",
        borderWidth: 2,
        titleColor: "#0984E3",
        headerHeight: 40,
        hasHeaderSeparator: true,
        shadow: "0 4px 20px rgba(9,132,227,0.3)",
      },
      8: {
        id: 8,
        name: "Azul Suave",
        headerBg: "#0984E3",
        bodyBg: "#74B9FF",
        borderColor: "#0984E3",
        borderWidth: 1,
        titleColor: "#FFFFFF",
        headerHeight: 36,
        hasHeaderSeparator: false,
        shadow: "0 4px 20px rgba(9,132,227,0.2)",
      },
    };

    // ============================================
    // COMPONENTE NODE CARD
    // ============================================

    function NodeCard({ styleId, title, icon, isSelected = false, type = "checklist" }) {
      const style = CARD_STYLES[styleId];
      const headerHeight = icon ? style.headerHeight + ICON_AREA_HEIGHT : style.headerHeight;

      const renderContent = () => {
        if (type === "checklist") {
          return (
            <div style={{ padding: 12 }}>
              {[1, 2, 3].map((i) => (
                <div key={i} style={{ display: 'flex', alignItems: 'center', gap: 8, marginBottom: 8 }}>
                  <div style={{
                    width: 16,
                    height: 16,
                    borderRadius: 4,
                    border: `2px solid ${style.borderColor}`,
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                  }}>
                    {i === 1 && (
                      <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke={style.titleColor} strokeWidth="3">
                        <polyline points="20 6 9 17 4 12" />
                      </svg>
                    )}
                  </div>
                  <div style={{
                    height: 6,
                    borderRadius: 3,
                    backgroundColor: style.titleColor,
                    opacity: 0.3,
                    flex: 1,
                  }} />
                </div>
              ))}
            </div>
          );
        }
        return (
          <div style={{ padding: 12 }}>
            <div style={{ height: 6, borderRadius: 3, backgroundColor: style.titleColor, opacity: 0.3, marginBottom: 8 }} />
            <div style={{ height: 6, borderRadius: 3, backgroundColor: style.titleColor, opacity: 0.3, width: '80%' }} />
          </div>
        );
      };

      return (
        <div style={{
          width: 180,
          height: 140,
          borderRadius: NODE_BORDER_RADIUS,
          overflow: 'hidden',
          border: `${style.borderWidth}px solid ${isSelected ? '#0984E3' : style.borderColor}`,
          boxShadow: isSelected 
            ? `0 0 0 3px rgba(9,132,227,0.3), ${style.shadow}` 
            : style.shadow,
          transition: 'all 0.2s ease',
        }}>
          {/* Header */}
          <div style={{
            height: headerHeight,
            backgroundColor: style.headerBg,
            borderBottom: style.hasHeaderSeparator ? `1px solid ${style.borderColor}` : 'none',
            borderTopLeftRadius: NODE_BORDER_RADIUS,
            borderTopRightRadius: NODE_BORDER_RADIUS,
            padding: '8px 12px',
            display: 'flex',
            flexDirection: 'column',
            justifyContent: 'center',
          }}>
            {icon && (
              <div style={{ fontSize: 20, marginBottom: 4, textAlign: 'center' }}>{icon}</div>
            )}
            <div style={{
              color: style.titleColor,
              fontWeight: 600,
              fontSize: 14,
              whiteSpace: 'nowrap',
              overflow: 'hidden',
              textOverflow: 'ellipsis',
            }}>
              {title}
            </div>
          </div>
          
          {/* Body */}
          <div style={{
            height: `calc(100% - ${headerHeight}px)`,
            backgroundColor: style.bodyBg,
          }}>
            {renderContent()}
          </div>
        </div>
      );
    }

    // ============================================
    // COMPONENTE SETTINGS PANEL
    // ============================================

    function SettingsPanel() {
      const [currentIcon, setCurrentIcon] = useState("üçã");
      const [currentTitleSize, setCurrentTitleSize] = useState("M");
      const [currentStyle, setCurrentStyle] = useState(0);
      const [currentColor, setCurrentColor] = useState("#9B59B6");

      const titleSizes = [
        { value: "hidden", label: "X" },
        { value: "S", label: "S" },
        { value: "M", label: "M" },
        { value: "L", label: "L" },
        { value: "XL", label: "XL" },
      ];

      const colors = [
        "#FF6B6B", "#FFB347", "#FFD93D", "#6BCB77",
        "#4D96FF", "#9B59B6", "#FF9FF3", "#A8E6CF",
        "#FF8B94", "#FFC93C", "#C7F464", "#4ECDC4",
        "#5D8AA8", "#DDA0DD", "#F8F8F8", "#2D3436",
      ];

      const SelectionCheck = () => (
        <div style={{
          position: 'absolute',
          top: -6,
          right: -6,
          width: 18,
          height: 18,
          backgroundColor: '#0984E3',
          borderRadius: '50%',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          boxShadow: '0 2px 4px rgba(0,0,0,0.3)',
        }}>
          <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="3">
            <polyline points="20 6 9 17 4 12" />
          </svg>
        </div>
      );

      return (
        <div style={{
          width: 280,
          backgroundColor: '#1E1E1E',
          borderRadius: 12,
          boxShadow: '0 25px 80px rgba(0,0,0,0.5)',
          overflow: 'hidden',
        }}>
          {/* √çcone */}
          <div style={{ padding: 16, borderBottom: '1px solid #333' }}>
            <div style={{ fontSize: 12, color: '#888', marginBottom: 12 }}>√çcone</div>
            <div style={{ display: 'flex', gap: 12 }}>
              <button onClick={() => setCurrentIcon(null)} style={{
                position: 'relative',
                width: 40, height: 40, borderRadius: 8,
                display: 'flex', alignItems: 'center', justifyContent: 'center',
                backgroundColor: !currentIcon ? '#2D3436' : 'transparent',
                border: !currentIcon ? '2px solid #0984E3' : '2px solid #444',
                cursor: 'pointer',
              }}>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#888" strokeWidth="2">
                  <line x1="18" y1="6" x2="6" y2="18" />
                  <line x1="6" y1="6" x2="18" y2="18" />
                </svg>
                {!currentIcon && <SelectionCheck />}
              </button>
              <button onClick={() => setCurrentIcon("üçã")} style={{
                position: 'relative',
                width: 40, height: 40, borderRadius: 8,
                display: 'flex', alignItems: 'center', justifyContent: 'center',
                fontSize: 18,
                backgroundColor: currentIcon ? '#2D3436' : 'transparent',
                border: currentIcon ? '2px solid #0984E3' : '2px solid #444',
                cursor: 'pointer',
              }}>
                {currentIcon || "üòÄ"}
                {currentIcon && <SelectionCheck />}
              </button>
              <button disabled style={{
                width: 40, height: 40, borderRadius: 8,
                display: 'flex', alignItems: 'center', justifyContent: 'center',
                opacity: 0.4, cursor: 'not-allowed', border: '2px solid #444',
              }}>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#888" strokeWidth="2">
                  <rect x="3" y="3" width="18" height="18" rx="2" />
                  <circle cx="8.5" cy="8.5" r="1.5" />
                  <polyline points="21 15 16 10 5 21" />
                </svg>
              </button>
              <button disabled style={{
                width: 40, height: 40, borderRadius: 8,
                display: 'flex', alignItems: 'center', justifyContent: 'center',
                opacity: 0.4, cursor: 'not-allowed', border: '2px solid #444',
              }}>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#888" strokeWidth="2">
                  <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
                </svg>
              </button>
            </div>
          </div>

          {/* T√≠tulo */}
          <div style={{ padding: 16, borderBottom: '1px solid #333' }}>
            <div style={{ fontSize: 12, color: '#888', marginBottom: 12 }}>T√≠tulo</div>
            <div style={{ display: 'flex', gap: 8 }}>
              {titleSizes.map((size) => {
                const isSelected = currentTitleSize === size.value;
                return (
                  <button key={size.value} onClick={() => setCurrentTitleSize(size.value)} style={{
                    position: 'relative',
                    flex: 1, height: 40, borderRadius: 8,
                    display: 'flex', alignItems: 'center', justifyContent: 'center',
                    fontSize: 14, fontWeight: 500,
                    backgroundColor: isSelected ? '#2D3436' : 'transparent',
                    border: isSelected ? '2px solid #0984E3' : '2px solid #444',
                    color: isSelected ? '#FFF' : '#888',
                    cursor: 'pointer',
                  }}>
                    {size.label}
                    {isSelected && <SelectionCheck />}
                  </button>
                );
              })}
            </div>
          </div>

          {/* Estilo */}
          <div style={{ padding: 16, borderBottom: '1px solid #333' }}>
            <div style={{ fontSize: 12, color: '#888', marginBottom: 12 }}>Estilo</div>
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: 8 }}>
              {Object.values(CARD_STYLES).map((style) => {
                const isSelected = currentStyle === style.id;
                return (
                  <button key={style.id} onClick={() => setCurrentStyle(style.id)} style={{
                    position: 'relative',
                    width: '100%', aspectRatio: '4/3', borderRadius: 8,
                    overflow: 'hidden',
                    border: isSelected ? '2px solid #0984E3' : '2px solid #444',
                    cursor: 'pointer', padding: 0,
                  }}>
                    <div style={{ height: '33%', backgroundColor: style.headerBg }} />
                    <div style={{ height: '67%', backgroundColor: style.bodyBg }} />
                    <div style={{ position: 'absolute', bottom: 8, left: 8, right: 8 }}>
                      <div style={{ height: 4, borderRadius: 2, backgroundColor: 'rgba(255,255,255,0.3)', width: '80%', marginBottom: 4 }} />
                      <div style={{ height: 4, borderRadius: 2, backgroundColor: 'rgba(255,255,255,0.3)', width: '60%' }} />
                    </div>
                    {isSelected && <SelectionCheck />}
                  </button>
                );
              })}
            </div>
          </div>

          {/* Cor */}
          <div style={{ padding: 16, borderBottom: '1px solid #333' }}>
            <div style={{ fontSize: 12, color: '#888', marginBottom: 12 }}>Cor</div>
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(8, 1fr)', gap: 8 }}>
              {colors.map((color) => {
                const isSelected = currentColor === color;
                return (
                  <button key={color} onClick={() => setCurrentColor(color)} style={{
                    width: 24, height: 24, borderRadius: '50%',
                    backgroundColor: color,
                    cursor: 'pointer', border: 'none',
                    boxShadow: isSelected ? '0 0 0 2px #1E1E1E, 0 0 0 4px #0984E3' : 'none',
                  }} />
                );
              })}
            </div>
          </div>

          {/* A√ß√µes */}
          <div style={{ padding: 12 }}>
            <button style={{
              width: '100%', padding: '10px 12px', display: 'flex', alignItems: 'center', gap: 12,
              fontSize: 14, borderRadius: 8, backgroundColor: 'transparent', color: '#FFF',
              border: 'none', cursor: 'pointer',
            }} onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#2D3436'}
               onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'transparent'}>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="9" y="9" width="13" height="13" rx="2" />
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
              </svg>
              Duplicar
            </button>
            <button style={{
              width: '100%', padding: '10px 12px', display: 'flex', alignItems: 'center', gap: 12,
              fontSize: 14, borderRadius: 8, backgroundColor: 'transparent', color: '#FF6B6B',
              border: 'none', cursor: 'pointer',
            }} onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#2D3436'}
               onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'transparent'}>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="3 6 5 6 21 6" />
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
              </svg>
              Deletar
            </button>
          </div>
        </div>
      );
    }

    // ============================================
    // APP PRINCIPAL
    // ============================================

    function App() {
      return (
        <div className="demo-container">
          <div className="header">
            <h1>üé® Sistema de Nodes - Maiglia</h1>
            <p>9 estilos visuais completamente customiz√°veis</p>
          </div>

          {/* Se√ß√£o: Todos os Estilos */}
          <div className="section">
            <h2 className="section-title">Todos os 9 Estilos de Cards</h2>
            <div className="cards-grid">
              {Object.values(CARD_STYLES).map((style) => (
                <div key={style.id} className="card-wrapper">
                  <NodeCard 
                    styleId={style.id} 
                    title={style.name} 
                    icon={style.id % 3 === 0 ? "üìù" : null}
                  />
                  <span className="card-label">{style.name}</span>
                </div>
              ))}
            </div>
          </div>

          {/* Se√ß√£o: Compara√ß√£o */}
          <div className="section">
            <h2 className="section-title">Painel de Configura√ß√µes</h2>
            <div className="comparison">
              <div className="comparison-box">
                <h3>üéØ Design de Refer√™ncia (xTiles)</h3>
                <img src="https://i.imgur.com/placeholder.png" alt="Refer√™ncia" style={{ width: '100%', borderRadius: 8, opacity: 0.5 }} />
                <p style={{ color: '#888', marginTop: 12, textAlign: 'center' }}>Tema escuro com checkmarks azuis</p>
              </div>
              <div className="comparison-box">
                <h3>‚ú® Nossa Implementa√ß√£o</h3>
                <div style={{ display: 'flex', justifyContent: 'center' }}>
                  <SettingsPanel />
                </div>
              </div>
            </div>
          </div>

          {/* Se√ß√£o: Features */}
          <div className="section">
            <h2 className="section-title">Features Implementadas</h2>
            <div className="features">
              <div className="feature-card">
                <h4>üé® 9 Estilos Visuais</h4>
                <p>Cada estilo tem cores de header, body, borda e texto completamente configur√°veis.</p>
              </div>
              <div className="feature-card">
                <h4>‚úÖ Checkmark de Sele√ß√£o</h4>
                <p>Itens selecionados mostram um c√≠rculo azul com checkmark no canto superior direito.</p>
              </div>
              <div className="feature-card">
                <h4>üéØ Estados Visuais</h4>
                <p>Hover, selecionado e normal com sombras e bordas din√¢micas.</p>
              </div>
              <div className="feature-card">
                <h4>üîß Painel Completo</h4>
                <p>√çcone, t√≠tulo, estilo, cor e a√ß√µes em um painel escuro elegante.</p>
              </div>
              <div className="feature-card">
                <h4>üì± Responsivo</h4>
                <p>Transi√ß√µes suaves e feedback visual em todas as intera√ß√µes.</p>
              </div>
              <div className="feature-card">
                <h4>‚ö° Performance</h4>
                <p>React.memo e otimiza√ß√µes para evitar re-renders desnecess√°rios.</p>
              </div>
            </div>
          </div>

          {/* Se√ß√£o: Exemplos */}
          <div className="section">
            <h2 className="section-title">Exemplos de Uso</h2>
            <div className="cards-grid">
              <div className="card-wrapper">
                <NodeCard styleId={0} title="Tarefas Di√°rias" icon="‚úÖ" isSelected />
                <span className="card-label">Checklist Selecionado</span>
              </div>
              <div className="card-wrapper">
                <NodeCard styleId={5} title="Notas R√°pidas" icon="üìù" />
                <span className="card-label">Nota Azul</span>
              </div>
              <div className="card-wrapper">
                <NodeCard styleId={7} title="Projeto Alpha" icon="üöÄ" />
                <span className="card-label">Projeto em Destaque</span>
              </div>
              <div className="card-wrapper">
                <NodeCard styleId={2} title="Ideias" icon="üí°" />
                <span className="card-label">Brainstorming</span>
              </div>
              <div className="card-wrapper">
                <NodeCard styleId={6} title="Metas 2025" icon="üéØ" />
                <span className="card-label">Metas Pessoais</span>
              </div>
              <div className="card-wrapper">
                <NodeCard styleId={3} title="C√≥digo" icon="üíª" />
                <span className="card-label">Dev Notes</span>
              </div>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
